<!doctype html><html lang=de class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Entwicklung und Betrieb mobiler Informationssysteme"><meta name=author content="Stefan Huber"><link rel="shortcut icon" href=../../assets/images/favicon.png><meta name=generator content="mkdocs-1.1, mkdocs-material-5.3.0"><title>Einführung - Entwicklung und Betrieb mobiler Informationssysteme</title><link rel=stylesheet href=../../assets/stylesheets/main.6e35a1a6.min.css><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style></head> <body dir=ltr> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#einfuhrung class=md-skip> Zum Inhalt </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid" aria-label=Header> <a href=../.. title="Entwicklung und Betrieb mobiler Informationssysteme" class="md-header-nav__button md-logo" aria-label="Entwicklung und Betrieb mobiler Informationssysteme"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 320 512"><path d="M272 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h224c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM160 480c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm112-108c0 6.6-5.4 12-12 12H60c-6.6 0-12-5.4-12-12V60c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v312z"/></svg> </a> <label class="md-header-nav__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header-nav__title data-md-component=header-title> <div class=md-header-nav__ellipsis> <span class="md-header-nav__topic md-ellipsis"> Entwicklung und Betrieb mobiler Informationssysteme </span> <span class="md-header-nav__topic md-ellipsis"> Einführung </span> </div> </div> <label class="md-header-nav__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Suche placeholder=Suche autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <button type=reset class="md-search__icon md-icon" aria-label=Clear data-md-component=search-reset tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Suche wird initialisiert </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header-nav__source> <a href=https://github.com/stefanhuber/ebmi/ title=Quellcode class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class="md-tabs md-tabs--active" aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=./ class="md-tabs__link md-tabs__link--active"> Android </a> </li> <li class=md-tabs__item> <a href=../../pwa/fx-calculator/ class=md-tabs__link> PWA </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="Entwicklung und Betrieb mobiler Informationssysteme" class="md-nav__button md-logo" aria-label="Entwicklung und Betrieb mobiler Informationssysteme"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 320 512"><path d="M272 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h224c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM160 480c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm112-108c0 6.6-5.4 12-12 12H60c-6.6 0-12-5.4-12-12V60c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v312z"/></svg> </a> Entwicklung und Betrieb mobiler Informationssysteme </label> <div class=md-nav__source> <a href=https://github.com/stefanhuber/ebmi/ title=Quellcode class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. title=Home class=md-nav__link> Home </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2 type=checkbox id=nav-2 checked> <label class=md-nav__link for=nav-2> Android <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Android data-md-level=1> <label class=md-nav__title for=nav-2> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Android </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Einführung <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg> </span> </label> <a href=./ title=Einführung class="md-nav__link md-nav__link--active"> Einführung </a> <nav class="md-nav md-nav--secondary" aria-label=Inhaltsverzeichnis> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Inhaltsverzeichnis </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#android-apps class=md-nav__link> Android Apps </a> <nav class=md-nav aria-label="Android Apps"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#grundstruktur-einer-android-app class=md-nav__link> Grundstruktur einer Android App </a> </li> <li class=md-nav__item> <a href=#kernkomponenten-in-android class=md-nav__link> Kernkomponenten in Android </a> </li> <li class=md-nav__item> <a href=#android-manifest class=md-nav__link> Android Manifest </a> </li> <li class=md-nav__item> <a href=#android-api-level class=md-nav__link> Android API Level </a> </li> <li class=md-nav__item> <a href=#support-libraries class=md-nav__link> Support Libraries </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#wichtige-ui-konzepte class=md-nav__link> Wichtige UI-Konzepte </a> <nav class=md-nav aria-label="Wichtige UI-Konzepte"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#homescreen class=md-nav__link> Homescreen </a> </li> <li class=md-nav__item> <a href=#all-apps-screen class=md-nav__link> All-Apps Screen </a> </li> <li class=md-nav__item> <a href=#system-toolbars class=md-nav__link> System Toolbars </a> </li> <li class=md-nav__item> <a href=#recents-screen class=md-nav__link> Recents Screen </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#activities class=md-nav__link> Activities </a> <nav class=md-nav aria-label=Activities> <ul class=md-nav__list> <li class=md-nav__item> <a href=#organisation-als-stack class=md-nav__link> Organisation als Stack </a> </li> <li class=md-nav__item> <a href=#lebenszyklus-einer-activity class=md-nav__link> Lebenszyklus einer Activity </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#intents class=md-nav__link> Intents </a> <nav class=md-nav aria-label=Intents> <ul class=md-nav__list> <li class=md-nav__item> <a href=#arten-von-intents class=md-nav__link> Arten von Intents </a> </li> <li class=md-nav__item> <a href=#nachrichtenaustausch class=md-nav__link> Nachrichtenaustausch </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#logging class=md-nav__link> Logging </a> <nav class=md-nav aria-label=Logging> <ul class=md-nav__list> <li class=md-nav__item> <a href=#log-eintrage-in-logcat class=md-nav__link> Log-Einträge in Logcat </a> </li> <li class=md-nav__item> <a href=#beispiel-activity-ubergange-loggen class=md-nav__link> Beispiel: Activity-Übergänge loggen </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#weiterfuhrende-details-und-referenzen class=md-nav__link> Weiterführende Details und Referenzen </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../grafische-benutzeroberfl%C3%A4chen/ title="Grafische Benutzeroberflächen" class=md-nav__link> Grafische Benutzeroberflächen </a> </li> <li class=md-nav__item> <a href=../apps-ausf%C3%BChren/ title="Apps ausführen" class=md-nav__link> Apps ausführen </a> </li> <li class=md-nav__item> <a href=../sixteen-buttons/ title="Sixteen Buttons" class=md-nav__link> Sixteen Buttons </a> </li> <li class=md-nav__item> <a href=../snake/ title=Snake class=md-nav__link> Snake </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3 type=checkbox id=nav-3> <label class=md-nav__link for=nav-3> PWA <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=PWA data-md-level=1> <label class=md-nav__title for=nav-3> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> PWA </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../pwa/fx-calculator/ title="Fx Calculator" class=md-nav__link> Fx Calculator </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label=Inhaltsverzeichnis> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Inhaltsverzeichnis </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#android-apps class=md-nav__link> Android Apps </a> <nav class=md-nav aria-label="Android Apps"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#grundstruktur-einer-android-app class=md-nav__link> Grundstruktur einer Android App </a> </li> <li class=md-nav__item> <a href=#kernkomponenten-in-android class=md-nav__link> Kernkomponenten in Android </a> </li> <li class=md-nav__item> <a href=#android-manifest class=md-nav__link> Android Manifest </a> </li> <li class=md-nav__item> <a href=#android-api-level class=md-nav__link> Android API Level </a> </li> <li class=md-nav__item> <a href=#support-libraries class=md-nav__link> Support Libraries </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#wichtige-ui-konzepte class=md-nav__link> Wichtige UI-Konzepte </a> <nav class=md-nav aria-label="Wichtige UI-Konzepte"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#homescreen class=md-nav__link> Homescreen </a> </li> <li class=md-nav__item> <a href=#all-apps-screen class=md-nav__link> All-Apps Screen </a> </li> <li class=md-nav__item> <a href=#system-toolbars class=md-nav__link> System Toolbars </a> </li> <li class=md-nav__item> <a href=#recents-screen class=md-nav__link> Recents Screen </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#activities class=md-nav__link> Activities </a> <nav class=md-nav aria-label=Activities> <ul class=md-nav__list> <li class=md-nav__item> <a href=#organisation-als-stack class=md-nav__link> Organisation als Stack </a> </li> <li class=md-nav__item> <a href=#lebenszyklus-einer-activity class=md-nav__link> Lebenszyklus einer Activity </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#intents class=md-nav__link> Intents </a> <nav class=md-nav aria-label=Intents> <ul class=md-nav__list> <li class=md-nav__item> <a href=#arten-von-intents class=md-nav__link> Arten von Intents </a> </li> <li class=md-nav__item> <a href=#nachrichtenaustausch class=md-nav__link> Nachrichtenaustausch </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#logging class=md-nav__link> Logging </a> <nav class=md-nav aria-label=Logging> <ul class=md-nav__list> <li class=md-nav__item> <a href=#log-eintrage-in-logcat class=md-nav__link> Log-Einträge in Logcat </a> </li> <li class=md-nav__item> <a href=#beispiel-activity-ubergange-loggen class=md-nav__link> Beispiel: Activity-Übergänge loggen </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#weiterfuhrende-details-und-referenzen class=md-nav__link> Weiterführende Details und Referenzen </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <a href=https://github.com/stefanhuber/ebmi/android/einführung.md title="Seite editieren" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg> </a> <h1 id=einfuhrung>Einführung</h1> <h2 id=android-apps>Android Apps</h2> <p>Android Apps werden in Java oder Kotlin programmiert. Für spezielle hardwarenahme Teile einer App kann auch C/C++ verwendet werden (siehe <a href=https://developer.android.com/ndk>Android NDK</a>). Eine Android App wird in eine APK-Datei (<code>.apk</code>) kompiliert, diese Datei kann dann zum Beispiel in einen Android App Market zur Veröffentlichung geladen werden.</p> <p>Android ist ein Linux-basiertes Betriebssystem. Dabei gibt es einige wichtige Sicherheitsaspekte die daraus resultieren:</p> <ul> <li>Jede App bekommt zum Installationszeitpunkt eine Linux User-ID zugewiesen. Nur diese User-ID hat Lese- und Schreibrechte innerhalb des App-Ordners.</li> <li>Jede App wird grundsätzlich innerhalb eines eigenen Betriebssystem-Prozesses ausgeführt.</li> <li>Jeder Prozess hat eine eigene Virtual Machine (Dalvik, ART), welche die App innerhalb einer Sandbox (isoliert von anderen Apps)ausführt.</li> </ul> <h3 id=grundstruktur-einer-android-app>Grundstruktur einer Android App</h3> <p>Eine Android App besteht im Wesentlichen aus 3 Bestandteilen:</p> <ul> <li>Jede App besitzt ein Manifest als zentrale Konfigurationsdatei in XML.</li> <li>Anwendungskomponenten werden als Quellcode implementiert.</li> <li>Apps benötigen auch Ressourcen, zum Beispiel:<ul> <li>Mediendateien (Bilder, Sound, Videos, …)</li> <li>Texte (zB für Übersetzung in andere Sprachen)</li> <li>Layout Definitionen in XML</li> </ul> </li> </ul> <p>Android Apps werden in eine APK-Datei (Android Package) kompiliert. Der Quellcode wird dabei im ersten Schritt in Java-Bytecode überführt und im weiteren über einen speziellen Compiler in <code>Dex Bytecode</code> überführt. Alle Ressourcen werden komprimiert und als <code>.arsc</code> Dateien in die APK verpackt. Ebenfalls wird das Manifest (<code>AndroidManifest.xml</code>) in die APK mit aufgenommen.</p> <p><img alt="Android APK" src=../images/00-Android-APK.png title="Android APK"></p> <div class="admonition info"> <p class=admonition-title>Hinweis</p> <p>Das kompilierte APK kann direkt weitergegeben werden oder über einen App Market veröffentlicht werden. Für die Veröffentlichung muss die APK signiert werden.</p> </div> <h3 id=kernkomponenten-in-android>Kernkomponenten in Android</h3> <p>Android Apps sind aus unterschiedlichen Kernkomponenten zusammengesetzt. Diese Kernkomponenten werden in Quellcode realisiert. Es können generell 4 Komponenten unterschieden werden:</p> <ul> <li><strong>Activity:</strong> Eine <code>Activity</code> repräsentiert einen „Screen“ einer App (Darstellung und Benutzerinteraktionen). Beispiel: Eine Email Anwendung hat eine <code>Activity</code>, welche das Verfassen der Email abwickelt.</li> <li><strong>Service:</strong> Längere Arbeitsschritte werden in <code>Services</code> ausgelagert und können so im Hintergrund ausgeführt werden. Beispiel: Abspielen von Musik (auch wenn die App geschlossen wird).</li> <li><strong>Content Provider:</strong> Verwalten globale Daten, welche für alle Apps relevant sind. Beispiel: Kontakte werden in einem <code>Content Provider</code> verwaltet.</li> <li><strong>Broadcast Receiver:</strong> Ereignisse, welche Systemweit kommuniziert werden, können über <code>Broadcast Receiver</code> abgefangen werden. Beispiel: Anwendungen können auf den "Low Battery" Event reagieren.</li> </ul> <h3 id=android-manifest>Android Manifest</h3> <p>Jede Android App muss ein Manifest enthalten, welches unterschiedliche Metadaten über die App enthält. Das Manifest ist ein XML-Dokument im Wurzelverzeichnis der App mit Namen <code>AndroidManifest.xml</code>. Inhalte des Manifests sind folgende:</p> <ul> <li>Alle Komponenten die zur App gehören</li> <li>Definiert die öffentlichen Interaktionsmöglichkeiten für andere Apps</li> <li>Definiert alle Berechtigungen, welche die App benötigt (zB Zugriff auf das Internet)</li> <li>Kann alle Hardware-Features definieren, welchedie App benötigt (zB Kamera)</li> <li>Weitere Metadaten wie App Name, App Icon, Versionsnummer, … </li> </ul> <div class=codehilite><pre><span></span><code><span class=cp>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class=nt>&lt;manifest</span> <span class=na>xmlns:android=</span><span class=s>&quot;http://schemas.android.com/apk/res/android&quot;</span> <span class=na>package=</span><span class=s>&quot;fhku.exampleapp&quot;</span><span class=nt>&gt;</span>

    <span class=nt>&lt;uses-permission</span> <span class=na>android:name=</span><span class=s>&quot;android.permission.INTERNET&quot;</span> <span class=nt>/&gt;</span>

    <span class=nt>&lt;application</span>        
        <span class=na>android:icon=</span><span class=s>&quot;@mipmap/ic_launcher&quot;</span>
        <span class=na>android:label=</span><span class=s>&quot;@string/app_name&quot;</span><span class=nt>&gt;</span>

        <span class=nt>&lt;activity</span> <span class=na>android:name=</span><span class=s>&quot;.MainActivity&quot;</span><span class=nt>&gt;</span>
            <span class=nt>&lt;intent-filter&gt;</span>
                <span class=nt>&lt;action</span> <span class=na>android:name=</span><span class=s>&quot;android.intent.action.MAIN&quot;</span> <span class=nt>/&gt;</span>
                <span class=nt>&lt;category</span> <span class=na>android:name=</span><span class=s>&quot;android.intent.category.LAUNCHER&quot;</span> <span class=nt>/&gt;</span>
            <span class=nt>&lt;/intent-filter&gt;</span>
        <span class=nt>&lt;/activity&gt;</span>
    <span class=nt>&lt;/application&gt;</span>
<span class=nt>&lt;/manifest&gt;</span>
</code></pre></div> <h3 id=android-api-level>Android API Level</h3> <p>Ein API Level klassifiziert die verfügbaren Funktionalitäten des Android Frameworks eindeutig. Erweiterungen der Framework API, welche durch eine neue Android Version eingeführt werden, sind additiv (Vorwärtskompatibel). Eine alte App (für alte Android Version entwickelt) funktioniert auf einer neuen Android Version.</p> <p>Um eine Rückwärtskompatibilität sicher zu stellen, bietet Android sog. Support Libraries. Mit Support Libraries können neue Features auf alten Android Versionen hergestellt werden. Minimal, Maximal und Ziel API Level können für die jeweilige App innerhalb des Manifestes festgelegt werden.</p> <h3 id=support-libraries>Support Libraries</h3> <p>Die unterschiedlichen Android Versionen sind unterschiedlich stark verbreitet. Android Apps sind vorwärtskompatibel. Eine App welche für das SDK 8.0 kompiliert wurde, funktioniert auch auf Android &gt; 8.0 (8.1, 9.0, …).</p> <p>Falls Features innerhalb einer Android App genutzt werden, welche zum Beispiel mit Android Version 6 eingeführt wurden, sind diese auf Android Geräte mit einer Version &lt; 6 nicht nutzbar. Android Apps werden durch Support Libraries rückwärtskompatibel. Eine App welche mit Support Libraries entwickelt wird, kann auch auf älteren Android Versionen ausgeführt werden. Hierbei gibt es jedoch für jedes Feature auch eine untere Grenze!</p> <p><img alt="Support Libraries" src=../images/00-Support-Libraries.png title="Support Libraries"></p> <h2 id=wichtige-ui-konzepte>Wichtige UI-Konzepte</h2> <p>Android hat einige allgemeine Bedien-Konzepte die folgend kurz zusammengefasst werden.</p> <h4 id=homescreen>Homescreen</h4> <p>Der Homescreen ist von der Benutzerin anpassbar, dort finden sich App Icons bzw. App Shortcuts. Es können auch sog. <a href=https://developer.android.com/guide/topics/appwidgets/overview><code>App Widgets</code></a> eingefügt werden. Auch Ordner können erstellt werden zur besseren Organisation.</p> <p><img src=../images/00-Homescreen.png title="Android Homescreen" alt="Android Homescreen" style=max-width:260px;></p> <h4 id=all-apps-screen>All-Apps Screen</h4> <p>Am All-Apps Screen finden sich alle Apps, welche am Smartphone installiert sind.</p> <p><img src=../images/00-All-Apps-Screen.png title="Android All Apps Screen" alt="Android All Apps Screen" style=max-width:260px;></p> <h4 id=system-toolbars>System Toolbars</h4> <ol> <li>Die <code>Statusbar</code> zeigt <code>Notifications</code> und <code>Status Icons</code>.</li> <li>Die <code>Hauptnavigation</code> zeigt den <code>Zurückbutton</code> (siehe <code>Activities</code>), den <code>Homebutton</code> (zum Homescreen) bzw. <code>Recents</code> (zum Recents-Screen)</li> </ol> <div style=display:flex> <img src=../images/00-Status-1.png title="Android System Toolbar 1" alt="Android System Toolbar 1"> <img src=../images/00-Status-2.png title="Android System Toolbar 2" alt="Android System Toolbar 2"> </div> <h4 id=recents-screen>Recents Screen</h4> <p>Am Recents-Screen werden alle aktiven Apps bzw. Tasks gezeigt. Die Liste ist sortiert nach der letzen Nutzung.</p> <p><img src=../images/00-Recents-Screen.png title="Android Recent Screen" alt="Android Recents Screen" style=max-width:260px;></p> <h2 id=activities>Activities</h2> <p>Für jede eigenständige Oberfläche einer Android App wird eine eigene <code>Activity</code> benötigt. Eine App besteht meist aus vielen <code>Activities</code>. Als einfache Regeln gelten:</p> <ul> <li>Je komplexer eine App, desto mehr <code>Activities</code> werden benötigt.</li> <li>Jede <code>Activity</code> sollte eine Benutzeraktion abdecken (zB Schreiben einer Email).</li> </ul> <p>Eine App hat eine Start- oder Hauptactivity, welche beim Start der App (Klick auf Icon am <code>Homescreen</code>) ausgeführt wird. Für jede <code>Activity</code> wird eine <code>ContentView</code> definiert, welche den rechteckigen Bereich am Bildschirm definiert auf dem die Oberfläche der <code>Activity</code> gerendert wird.</p> <p><code>Activities</code> können so definiert sein, dass sie nur innerhalb der App nutzbar sind. Es gibt jedoch auch <code>Activities</code>, welche zur Nutzung für andere Apps geöffnet sein können.</p> <h3 id=organisation-als-stack>Organisation als Stack</h3> <p>Alle <code>Activities</code> (Ansichen oder Screens) einer App sind als Stack organisiert. Die oberste <code>Activity</code> im Stack befindet sich im Vordergrund und reagiert auf Benutzerinteraktionen.</p> <p>Beim Start einer neuen <code>Activity</code> wird sie oben auf den Stack gelegt (push). Über den Zurück-Button am Smartphone/Tablet wird die oberste <code>Activity</code> vom Stack genommen (pop). Die Navigation über den Zurück-Button endet immer am <code>Homescreen</code>.</p> <p><img alt="Organisation als Stack" src=../images/00-Stack-1.png title="Organisation als Stack"></p> <p>Eine App, welche in Ausführung gebracht wird, wird als <code>Task</code> bezeichnet und findet sich im <code>Recents-Screen</code>. Eine App wird immer innerhalb eines eigenen Prozesses ausgeführt. <code>Activities</code> einer App können auch innerhalb eines anderen Tasks (innerhalb einer anderen App) genutzt werden.</p> <p>Zum Beispiel stellt Android eine allgemeine Kamera App zur Verfügung. Innerhalb einer anderen App, welche eine Kamera-Funktion benötigt, kann die <code>Activity</code> der allgemeinen Kamera App verwendet werden. Dies hat unter anderem den Vorteil, dass keine eigene Kamera Funktion implementiert werden muss.</p> <p><img alt="Organisation als Stack" src=../images/00-Stack-2.png title="Organisation als Stack"></p> <h3 id=lebenszyklus-einer-activity>Lebenszyklus einer Activity</h3> <p><code>Activities</code> sind an einen Lebenszyklus gebunden, welcher sich anhand der Sichtbarkeit einer Activity orientiert. Folgende Lebensphasen sind dabei definiert:</p> <ul> <li>Aktive (vordergründige) Lebensphase<ul> <li>Die <code>Activity</code> ist sichtbar und wartet auf Benutzereingaben.</li> <li>Übergänge in und aus dieser Lebensphase können häufig vorkommen. Die Methoden <code>onResume</code> und <code>onPause</code> sollen daher nur sehr leichtgewichtige Verarbeitungen durchführen.</li> </ul> </li> <li>Sichtbare Lebensphase<ul> <li>Transparente (zB unter einem Dialog) bzw. nicht aktive sichtbare Aktivität (zB Splitscreen)</li> <li>Innerhalb der Methoden <code>onStart</code> und <code>onPause</code> bearbeiten</li> </ul> </li> <li>Gestoppte Lebensphase<ul> <li><code>Activity</code> bleibt unsichtbar im Stack</li> <li>Ressourcen sollen freigegeben werden innerhalb der Methode <code>onStop</code>. Zum Beispiel um Animationen zu stoppen, Sensoren freigeben oder GPS freigeben. Über die Methoden <code>onStart</code> bzw. <code>onRestart</code> können die Ressourcen wieder aktiviert werden.</li> </ul> </li> </ul> <p><img alt="Lebenszyklus einer Activity" src=../images/00-Activity-Lifecycle.png title="Lebenszyklus einer Activity"></p> <h2 id=intents>Intents</h2> <p><code>Intents</code> sind ein sehr wichtiges Konzept in Android. Android Apps sind grundsätzlich nach dem Prinzip der losen Kopplung aufgebaut:</p> <ul> <li>Jede Komponente hat eine klare Verantwortung und ist unabhängig von anderen Komponenten.</li> <li>Komponenten kommunizieren über wohldefinierte Schnittstellen (Intents).</li> <li>Komponenten werden dadurch systemweit wiederverwendbar. <code>Activities</code> (Fotos machen, SMS schreiben, E-Mail schreiben, Beiträge teilen, Telefonanruf durchführen, Kontakt auswählen) können in anderen Apps wiederverwendet werden.</li> <li>Komponenten können isoliert getestet werden (Unit Test).</li> </ul> <p><code>Intents</code> werden zum Nachrichtenaustausch zwischen Komponenten verwendet. So kann eine <code>Activity</code> mit der Methode <code>startActivity</code> und als Parameter einen <code>Intent</code> eine neue <code>Activity</code> starten. Der <code>Intent</code> wird dabei an das Android Betriebssystem übergeben, dieses wählt die passende <code>Activity</code> aus.</p> <p><img alt="Android Intents" src=../images/00-Intents.png title="Android Intents"></p> <h3 id=arten-von-intents>Arten von Intents</h3> <p>Es sind <code>explizite Intents</code> und <code>implizite Intents</code> in Android zu unterscheiden. Ein <code>expliziter Intent</code> wird verwendet um eine Komponente der eigene App zu identifizieren und zu starten. Ein <code>impliziter Intent</code> wird verwendet um eine Komponente einer anderen App zu identifizieren und zu starten.</p> <p>Ein <code>expliziter Intent</code> gibt dabei den <code>FQN</code> (Fully-Qualified Classname) der Komponente an, um diese eindeutig zu identifizieren. Im folgenden Beispiel wird innerhalb eine <code>Activity</code> eine andere <code>GameActivity</code> gestartet:</p> <div class=codehilite><pre><span></span><code><span class=n>Intent</span> <span class=n>intent</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Intent</span><span class=o>(</span><span class=k>this</span><span class=o>,</span> <span class=n>GameActivity</span><span class=o>.</span><span class=na>class</span><span class=o>);</span>
<span class=n>startActivity</span><span class=o>(</span><span class=n>intent</span><span class=o>);</span>
</code></pre></div> <p>Für <code>implizite Intents</code> kann kein <code>FQN</code> angegeben werden. Deshalb wird über Attribute spezifiziert, welche Funktionen und Eigenschaften eine Komponente erfüllen muss. Es werden dazu unterschiedliche Attribute verwendet:</p> <ul> <li><strong>Action:</strong> Eine abstrakte Beschreibung der Operation die ausgeführt werden soll. Zum Beispiel die <code>ACTION_DIAL</code> um einen Anruf zu tätigen.</li> <li><strong>Data:</strong> Eine Referenz auf die Daten auf denen die Aktion ausgeführt werden soll. Zum Beispiel kann über eine <code>URI</code> (<code>tel:123</code>) ein Kontakt angegeben werden.</li> </ul> <p>Der <code>implizite Intent</code> wird potenziell von unterschiedlichen Komponenten erfüllt. Die Auswahl für die entsprechende Komponente wird letztlich der Benutzerin überlassen.</p> <p><img src=../images/00-Intent-Resolution.png title="Android Intent Resolution" alt="Android Intent Resolution" style=max-width:260px;></p> <h3 id=nachrichtenaustausch>Nachrichtenaustausch</h3> <p>Über <code>Intents</code> können auch Schlüssel/Wert Paare von einer Komponente an eine andere übertragen werden. Dazu werden sog. <code>Extras</code> verwendet.</p> <p>Es soll von einer <code>Activity</code> eine andere <code>Activity</code> gestartet werden. Dabei soll ein Parameter <code>speed</code> übergeben wreden. Dieser Parameter steuert zum Beispiel die Geschwindigkeit innerhalb eines Spieles.</p> <div class=codehilite><pre><span></span><code><span class=n>Intent</span> <span class=n>intent</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Intent</span><span class=o>(</span><span class=k>this</span><span class=o>,</span> <span class=n>GameActivity</span><span class=o>.</span><span class=na>class</span><span class=o>);</span>
<span class=n>intent</span><span class=o>.</span><span class=na>putExtra</span><span class=o>(</span><span class=s>&quot;speed&quot;</span><span class=o>,</span> <span class=mi>350</span><span class=o>);</span>
<span class=n>startActivity</span><span class=o>(</span><span class=n>intent</span><span class=o>);</span>
</code></pre></div> <p>Innerhalb des Ziels kann der <code>Intent</code> mit der Methode <code>getIntent</code> abgefragt werden. Dabei können die <code>Extras</code> genutzt werden. Es kann geprüft werden, ob ein entsprechendes <code>Extra</code> mit dem Schlüssel existiert (Methode <code>hasExtra</code>). Des Weiteren kann das <code>Extra</code> über eine typisierte Methode <code>getIntExtra</code> abgefragt werden. Ebenfalls kann ein Default-Wert angegeben werden (hier <code>500</code>).</p> <div class=codehilite><pre><span></span><code><span class=n>Intent</span> <span class=n>intent</span> <span class=o>=</span> <span class=n>getIntent</span><span class=o>();</span>
<span class=k>if</span> <span class=o>(</span><span class=n>intent</span><span class=o>.</span><span class=na>hasExtra</span><span class=o>(</span><span class=s>&quot;speed&quot;</span><span class=o>))</span> <span class=o>{</span>
    <span class=kt>int</span> <span class=n>speed</span> <span class=o>=</span> <span class=n>intent</span><span class=o>.</span><span class=na>getIntExtra</span><span class=o>(</span><span class=s>&quot;speed&quot;</span><span class=o>,</span> <span class=mi>500</span><span class=o>);</span>
<span class=o>}</span>
</code></pre></div> <h2 id=logging>Logging</h2> <p>Um den Zustand einer App zu überwachen (Monitoring) oder auch zum Debugging kann unter anderem Logging verwendet werden. Eine Anwendung kann eigenständige Logfiles erzeugen und Ereignisse loggen. Logeinträge können eine Wichtigkeit bzw. Hierarchie aufweisen (RFC 5424):</p> <ul> <li><strong>VERBOSE:</strong> Lautes Logging</li> <li><strong>DEBUG:</strong> Wichtige Debugging Informationen</li> <li><strong>INFO:</strong> Wichtige Ereignisse der Anwendung</li> <li><strong>WARN:</strong> Ein unvorhergesehenes Ereignis</li> <li><strong>ERROR:</strong> Fehler in der Anwendung</li> </ul> <p>Die Klasse Log mit den entsprechenden statischen Logging-Funktionen kann genutzt werden um Logs zu erzeugen. Zum besseren Auffinden im gesamten Log-Stream des Android Geräts können sog. TAGs eingesetzt werden. Über folgende Aufrufe können die entsprechenden Logs erzeugt werden:</p> <div class=codehilite><pre><span></span><code><span class=n>Log</span><span class=o>.</span><span class=na>v</span><span class=o>(</span><span class=s>&quot;MEINE APP&quot;</span><span class=o>,</span> <span class=s>&quot;Verbose Log-Nachricht&quot;</span><span class=o>);</span>
<span class=n>Log</span><span class=o>.</span><span class=na>d</span><span class=o>(</span><span class=s>&quot;MEINE APP&quot;</span><span class=o>,</span> <span class=s>&quot;Debug Log-Nachricht&quot;</span><span class=o>);</span>
<span class=n>Log</span><span class=o>.</span><span class=na>i</span><span class=o>(</span><span class=s>&quot;MEINE APP&quot;</span><span class=o>,</span> <span class=s>&quot;Info Log-Nachricht&quot;</span><span class=o>);</span>
<span class=n>Log</span><span class=o>.</span><span class=na>w</span><span class=o>(</span><span class=s>&quot;MEINE APP&quot;</span><span class=o>,</span> <span class=s>&quot;Warn Log-Nachricht&quot;</span><span class=o>);</span>
<span class=n>Log</span><span class=o>.</span><span class=na>e</span><span class=o>(</span><span class=s>&quot;MEINE APP&quot;</span><span class=o>,</span> <span class=s>&quot;Error Log-Nachricht&quot;</span><span class=o>);</span>
</code></pre></div> <h3 id=log-eintrage-in-logcat>Log-Einträge in Logcat</h3> <p>In Android Studio können mit dem Programm <code>Logcat</code> die entsprechenden Log-Einträge gefunden werden:</p> <p><img alt=Logcat src=../images/00-Logcat.png title=Logcat></p> <h3 id=beispiel-activity-ubergange-loggen>Beispiel: Activity-Übergänge loggen</h3> <p><img alt=Logcat src=../images/00-Logcat-2.png title=Logcat></p> <h2 id=weiterfuhrende-details-und-referenzen>Weiterführende Details und Referenzen</h2> <ul> <li><strong><a href=https://developer.android.com/guide/components/fundamentals>Application Fundamentals</a>:</strong> Grundlagen zu Android Apps.</li> <li><strong><a href=https://developer.android.com/guide/topics/manifest/manifest-intro>Android Manifest</a></strong></li> <li><strong><a href=https://developer.android.com/guide/components/activities/intro-activities>Intro Activities</a></strong></li> <li><strong><a href=https://developer.android.com/guide/components/activities/activity-lifecycle>Activity Lifecycle</a></strong></li> <li><strong><a href=https://developer.android.com/guide/components/activities/tasks-and-back-stack>Tasks und Stack</a></strong></li> <li><strong><a href=https://developer.android.com/guide/components/intents-filters>Intents</a></strong></li> </ul> </article> </div> </div> </main> <footer class=md-footer> <div class=md-footer-nav> <nav class="md-footer-nav__inner md-grid" aria-label=Footer> <a href=../.. title=Home class="md-footer-nav__link md-footer-nav__link--prev" rel=prev> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </div> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Zurück </span> Home </div> </div> </a> <a href=../grafische-benutzeroberfl%C3%A4chen/ title="Grafische Benutzeroberflächen" class="md-footer-nav__link md-footer-nav__link--next" rel=next> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Weiter </span> Grafische Benutzeroberflächen </div> </div> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> CC-BY-SA / Stefan Huber </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <script src=../../assets/javascripts/vendor.d710d30a.min.js></script> <script src=../../assets/javascripts/bundle.a14cc5fd.min.js></script><script id=__lang type=application/json>{"clipboard.copy": "In Zwischenablage kopieren", "clipboard.copied": "In Zwischenablage kopiert", "search.config.lang": "de", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Suchbegriff eingeben", "search.result.none": "Keine Suchergebnisse", "search.result.one": "1 Suchergebnis", "search.result.other": "# Suchergebnisse"}</script> <script>
        app = initialize({
          base: "../..",
          features: ["tabs"],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.7a2ea5ba.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script> </body> </html>